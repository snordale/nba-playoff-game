generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  email     String   @unique
  username  String   @unique
  players   Player[]

  @@map("users")
}

model League {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  name      String   @unique
  password  String
  players   Player[]

  @@map("leagues")
}

model Player {
  id          String       @id @default(cuid())
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
  userId      String
  leagueId    String
  isAdmin     DateTime?    @map("is_admin")
  league      League       @relation(fields: [leagueId], references: [id])
  user        User         @relation(fields: [userId], references: [id])
  submissions Submission[]

  @@map("players")
}

model Submission {
  id          String   @id @default(cuid())
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  playerId    String
  playerName  String
  playerImage String
  teamName    String
  points      Int      @default(0)
  rebounds    Int      @default(0)
  assists     Int      @default(0)
  steals      Int      @default(0)
  blocks      Int      @default(0)
  player      Player   @relation(fields: [playerId], references: [id])

  @@map("submissions")
}
